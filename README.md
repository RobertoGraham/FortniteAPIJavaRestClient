[![Maven Central](https://maven-badges.herokuapp.com/maven-central/io.github.robertograham/fortnite-api-rest-client/badge.svg)](https://maven-badges.herokuapp.com/maven-central/io.github.robertograham/fortnite-api-rest-client)
# FortniteAPIJavaRestClient
Java client for the Fortnite API

## Install
```xml
<dependency>
    <groupId>io.github.robertograham</groupId>
    <artifactId>fortnite-api-rest-client</artifactId>
    <version>2.2.0</version>
</dependency>
```
## Acquiring an EpicGames Launcher Token and a Fortnite Client Token
Follow the steps in [this project's README](https://github.com/qlaffont/fortnite-api#init).

## Logging in
Once you instantiate a FortniteApiRestClient it will automatically attempt to authenticate itself unless auto login is disabled.

If auto login is left enabled, any errors during authentication will not be thrown
```java
FortniteApiRestClient fortniteApiRestClient = FortniteApiRestClient.builder(new Credentials("epicGamesEmailAddress", "epicGamesPassword", "epicGamesLauncherToken", "fortniteClientToken"))
    .build();
```
Disable auto login if you want to be notified of authentication failure
```java
try (FortniteApiRestClient fortniteApiRestClient = FortniteApiRestClient.builder(new Credentials("epicGamesEmailAddress", "epicGamesPassword", "epicGamesLauncherToken", "fortniteClientToken"))
        .disableAutoLogin()
        .build()) {
    fortniteApiRestClient.login();
} catch (IOException e) {
    // handle authentication failure
}
```
## Closing
When you are finished with the client, remember to close it. If you don't, the thread to reauthenticate when a token expires will linger. Closing the client will also end your session on the Epic Games servers which prevents a too many sessions error when you login again.
```java
fortniteApiRestClient.close();
```

## Methods
### Account lookup
```java
System.out.println(fortniteApiRestClient.getAccount("RGrhm"));
```
Will either print A or B, depending on if the account exists.

A: `Account{id='a187f91659254929b833f6fbbd724fda', displayName='RGrhm'}`

B: `null`
### Retrieve enhanced Battle Royale stats by platform
```java
Account account = fortniteApiRestClient.getAccount("RGrhm");
System.out.println(fortniteApiRestClient.getEnhancedBattleRoyaleStatsByPlatform(account.getId(), Platform.PLAYSTATION_4));
```
Will either print A or B, depending on if the account exists. All values will be 0 if the account has not played on this platform

A: `StatsGroup{solo=Stats{wins=5, top3=0, top5=0, top6=0, top10=155, top12=0, top25=260, killToDeathRatio=0.499151103565365, winPercentage=0.8417508417508417, matches=594, kills=294, killsPerMin=0.28187919463087246, killsPerMatch=0.494949494949495, timePlayed=1043, score=102878}, duo=Stats{wins=0, top3=0, top5=3, top6=0, top10=0, top12=9, top25=0, killToDeathRatio=0.4375, winPercentage=0.0, matches=16, kills=7, killsPerMin=0.1346153846153846, killsPerMatch=0.4375, timePlayed=52, score=2815}, squad=Stats{wins=0, top3=9, top5=0, top6=20, top10=0, top12=0, top25=0, killToDeathRatio=0.3357664233576642, winPercentage=0.0, matches=137, kills=46, killsPerMin=0.09368635437881874, killsPerMatch=0.3357664233576642, timePlayed=491, score=16547}, lifetime=Stats{wins=5, top3=9, top5=3, top6=20, top10=155, top12=9, top25=260, killToDeathRatio=0.46765498652291104, winPercentage=0.6693440428380187, matches=747, kills=347, killsPerMin=0.21878940731399749, killsPerMatch=0.464524765729585, timePlayed=1586, score=122240}}`

B: `null`
### Retrieve raw Battle Royale stats
```java
Account account = fortniteApiRestClient.getAccount("RGrhm");
System.out.println(fortniteApiRestClient.getBattleRoyaleStatistics(account.getId()));
```
Will either print A or B, depending on if the account exists

A: `[Statistic{name='br_placetop5_ps4_m0_p10', value=3, window='alltime', ownerType=1}, Statistic{name='br_kills_ps4_m0_p2', value=294, window='alltime', ownerType=1}, Statistic{name='br_score_ps4_m0_p10', value=2815, window='alltime', ownerType=1}, Statistic{name='br_kills_ps4_m0_p9', value=46, window='alltime', ownerType=1}, Statistic{name='br_lastmodified_ps4_m0_p10', value=1522840186, window='alltime', ownerType=1}, Statistic{name='br_lastmodified_ps4_m0_p9', value=1523112181, window='alltime', ownerType=1}, Statistic{name='br_score_pc_m0_p2', value=33, window='alltime', ownerType=1}, Statistic{name='br_lastmodified_ps4_m0_p2', value=1523204069, window='alltime', ownerType=1}, Statistic{name='br_lastmodified_pc_m0_p2', value=1522016876, window='alltime', ownerType=1}, Statistic{name='br_placetop1_ps4_m0_p2', value=5, window='alltime', ownerType=1}, Statistic{name='br_placetop25_ps4_m0_p2', value=260, window='alltime', ownerType=1}, Statistic{name='br_matchesplayed_pc_m0_p2', value=1, window='alltime', ownerType=1}, Statistic{name='br_minutesplayed_ps4_m0_p10', value=52, window='alltime', ownerType=1}, Statistic{name='br_kills_ps4_m0_p10', value=7, window='alltime', ownerType=1}, Statistic{name='br_placetop6_ps4_m0_p9', value=20, window='alltime', ownerType=1}, Statistic{name='br_placetop10_ps4_m0_p2', value=155, window='alltime', ownerType=1}, Statistic{name='br_matchesplayed_ps4_m0_p10', value=16, window='alltime', ownerType=1}, Statistic{name='br_minutesplayed_ps4_m0_p2', value=1043, window='alltime', ownerType=1}, Statistic{name='br_placetop12_ps4_m0_p10', value=9, window='alltime', ownerType=1}, Statistic{name='br_matchesplayed_ps4_m0_p2', value=594, window='alltime', ownerType=1}, Statistic{name='br_minutesplayed_ps4_m0_p9', value=491, window='alltime', ownerType=1}, Statistic{name='br_matchesplayed_ps4_m0_p9', value=137, window='alltime', ownerType=1}, Statistic{name='br_score_ps4_m0_p9', value=16547, window='alltime', ownerType=1}, Statistic{name='br_score_ps4_m0_p2', value=102878, window='alltime', ownerType=1}, Statistic{name='br_placetop3_ps4_m0_p9', value=9, window='alltime', ownerType=1}]`

B: `null`
### Retrieve enhanced wins leaderboard
```java
fortniteApiRestClient.getEnhancedWinsLeaderBoard(Platform.PC, PartyType.SOLO);
```
Will print
`EnhancedLeaderBoard{entries=[EnhancedLeaderBoardEntry{displayName='twitch_bogdanakh', accountId='385c4d9a-b7e3-498d-b533-ff4d2d9f4c5b', rank=1, wins=905}, EnhancedLeaderBoardEntry{displayName='TwitchTV.lavak3_', accountId='155234bb-adaa-4e81-99a7-b2d413722290', rank=2, wins=803}, EnhancedLeaderBoardEntry{displayName='Agares29_Twitch', accountId='c083d220-0d65-4b25-a87c-0c48cb76c902', rank=3, wins=770}, EnhancedLeaderBoardEntry{displayName='Myboosting.com2', accountId='0041d08b-edc5-48d9-a223-0c4a28550594', rank=4, wins=727}, EnhancedLeaderBoardEntry{displayName='Twitch_DutchHawk', accountId='6f5c77ad-ef1c-4e47-bc33-f1f0c8b4b263', rank=5, wins=710}, EnhancedLeaderBoardEntry{displayName='Twitch APEXENITH', accountId='13b3c774-20da-4101-a213-e1f646b316a9', rank=6, wins=675}, EnhancedLeaderBoardEntry{displayName='twitchtvLIKANDOO', accountId='e94c3e05-2844-4339-8803-285171550b45', rank=7, wins=671}, EnhancedLeaderBoardEntry{displayName='VaxitylolMIXERtv', accountId='b94176db-4c25-4f90-99fb-2bd8e8ae0f94', rank=8, wins=615}, EnhancedLeaderBoardEntry{displayName='RuralKTmixer.com', accountId='a9467569-462d-4149-bc43-8550c03a45c9', rank=9, wins=601}, EnhancedLeaderBoardEntry{displayName='TwitchExoticChaotic', accountId='160376f1-a670-4c1b-b260-ce7b2bf94549', rank=10, wins=601}, EnhancedLeaderBoardEntry{displayName='SypherPK', accountId='cfd16ec5-4126-497c-a574-85c1ee1987dc', rank=11, wins=598}, EnhancedLeaderBoardEntry{displayName='Twitch WickesyM8', accountId='ffbb0eff-7cf0-433f-8cbf-9b5b30d57202', rank=12, wins=558}, EnhancedLeaderBoardEntry{displayName='Aêrøeu', accountId='1da00db9-d5ae-40fa-925f-e48a92bfcd09', rank=13, wins=556}, EnhancedLeaderBoardEntry{displayName='KingRichard15', accountId='28bad584-d9aa-440b-99ec-488bbd3d4e72', rank=14, wins=530}, EnhancedLeaderBoardEntry{displayName='BOT Tênnp0', accountId='1169e1f9-9c1a-4cb6-ba77-282c6d84eb74', rank=15, wins=524}, EnhancedLeaderBoardEntry{displayName='Worthyyy', accountId='f1081995-d117-471d-860e-5eb41275975c', rank=16, wins=517}, EnhancedLeaderBoardEntry{displayName='Twitch_MUDDAX', accountId='b5dd0491-ee8e-4e15-b32e-f8e704b47dbe', rank=17, wins=493}, EnhancedLeaderBoardEntry{displayName='Twitch_Svennoss', accountId='bd98e3aa-14d4-4c46-9417-827242e0105c', rank=18, wins=488}, EnhancedLeaderBoardEntry{displayName='Starke2k', accountId='501aff48-7767-4bbc-8350-a7b190db2ec3', rank=19, wins=479}, EnhancedLeaderBoardEntry{displayName='Twitch_Ettnix', accountId='5359db25-7029-4c59-b6ec-8f57e816f6a7', rank=20, wins=473}, EnhancedLeaderBoardEntry{displayName='babam_', accountId='54de145b-5873-4f48-8994-dd008e30f26a', rank=21, wins=469}, EnhancedLeaderBoardEntry{displayName='TTV_WishYouLuckk', accountId='09bd41d2-a44c-46d4-97c4-ffb6dd368981', rank=22, wins=465}, EnhancedLeaderBoardEntry{displayName='ZapdiusAdiarak', accountId='afeca5d0-401f-4640-9095-b81510c265ac', rank=23, wins=460}, EnhancedLeaderBoardEntry{displayName='Keepo_', accountId='0aa6c0ae-745b-440d-b246-95085002e053', rank=24, wins=459}, EnhancedLeaderBoardEntry{displayName='penutty.twitch', accountId='2b6d451f-f196-401d-b56c-7f1ba41f63fe', rank=25, wins=459}, EnhancedLeaderBoardEntry{displayName='xJeRMx.tv', accountId='93cfb726-aebb-4eb0-a5ce-4a0ea42d3498', rank=26, wins=456}, EnhancedLeaderBoardEntry{displayName='Evanggelion', accountId='d4a43646-306c-4dc5-8f53-49d89c0e9045', rank=27, wins=451}, EnhancedLeaderBoardEntry{displayName='twitchstonde1337', accountId='f5b23934-2e7b-490d-86c9-3a5db53abf06', rank=28, wins=442}, EnhancedLeaderBoardEntry{displayName='Twitch FulmerLoL', accountId='0247ee0d-eae2-432f-8113-3edaa2ae8e63', rank=29, wins=426}, EnhancedLeaderBoardEntry{displayName='Blatty', accountId='70639c8f-de7d-4a25-a0ad-09ecd5a2b5b6', rank=30, wins=420}, EnhancedLeaderBoardEntry{displayName='Twitch_Aphostle', accountId='ba5be2d1-7b42-4b8e-a681-3bf84648e15f', rank=31, wins=419}, EnhancedLeaderBoardEntry{displayName='MLkarasawa', accountId='a3c6290a-5ece-4142-a313-8d4ea983157a', rank=32, wins=418}, EnhancedLeaderBoardEntry{displayName='marr0wak.twitch', accountId='c5b44b49-35e8-44b9-b5e4-963f158a35a1', rank=33, wins=407}, EnhancedLeaderBoardEntry{displayName='Blood_Sheed', accountId='be5497b1-0d14-4996-86bc-970130fb38cc', rank=34, wins=406}, EnhancedLeaderBoardEntry{displayName='Martoz YT', accountId='6feb4bd8-85b4-4bf8-a6ce-3b986d35407f', rank=35, wins=405}, EnhancedLeaderBoardEntry{displayName='FI.FritoL', accountId='a0c026eb-67bb-4d47-939e-0330ee2b5560', rank=36, wins=403}, EnhancedLeaderBoardEntry{displayName='ComradeDurachek', accountId='1ef002fc-41b7-46e2-afb4-ba3b23e1afad', rank=37, wins=402}, EnhancedLeaderBoardEntry{displayName='Pervy-', accountId='2886f616-8fb0-4169-bc66-bdcc8efb827d', rank=38, wins=398}, EnhancedLeaderBoardEntry{displayName='Τfue', accountId='66de7858-19ed-4c83-a994-6b987de773a3', rank=39, wins=395}, EnhancedLeaderBoardEntry{displayName='TwitchToNiicLive', accountId='ca9ee597-ebf7-4a04-8c74-ab7bb6246e59', rank=40, wins=394}, EnhancedLeaderBoardEntry{displayName='g000dn on twitch', accountId='6ac8e950-ae23-4de6-800b-70db4767ab55', rank=41, wins=393}, EnhancedLeaderBoardEntry{displayName='kwént', accountId='1e2c8d81-0ddb-4ea0-8705-e57f5c2a2b8f', rank=42, wins=392}, EnhancedLeaderBoardEntry{displayName='SHlKAI', accountId='101e5904-64b8-4ad8-a465-2ce83c38de9f', rank=43, wins=389}, EnhancedLeaderBoardEntry{displayName='DouYuTv丶月无痕', accountId='a943e623-58c5-48d9-b51d-2b068e213e23', rank=44, wins=375}, EnhancedLeaderBoardEntry{displayName='Semm1234', accountId='a70fa918-5cbd-49bc-83fb-7bcad313480b', rank=45, wins=373}, EnhancedLeaderBoardEntry{displayName='BüzzyGOD', accountId='72bd31b3-e5ac-4f30-8ef0-88c2520c0989', rank=46, wins=372}, EnhancedLeaderBoardEntry{displayName='epiqueness', accountId='af0797d2-e962-4390-964e-8825b4d81676', rank=47, wins=371}, EnhancedLeaderBoardEntry{displayName='Вlind', accountId='577e9436-3250-43d9-9f1a-612d16ff7497', rank=48, wins=369}, EnhancedLeaderBoardEntry{displayName='Venndetta.', accountId='6d2d3306-5930-4669-a9b0-0ff00ed8f82a', rank=49, wins=368}, EnhancedLeaderBoardEntry{displayName='Twitchtv ohtedi', accountId='c4be82a3-ff7f-4841-8bc2-a5b6288bf57a', rank=50, wins=365}]}`
###Retrieve raw wins leaderboard
```java
fortniteApiRestClient.getWinsLeaderBoard(Platform.PC, PartyType.SOLO);
```
Will print
`LeaderBoard{statName='br_placetop1_pc_m0_p2', statWindow='weekly', entries=[LeaderBoardEntry{accountId='385c4d9a-b7e3-498d-b533-ff4d2d9f4c5b', value=905, rank=1}, LeaderBoardEntry{accountId='155234bb-adaa-4e81-99a7-b2d413722290', value=803, rank=2}, LeaderBoardEntry{accountId='c083d220-0d65-4b25-a87c-0c48cb76c902', value=770, rank=3}, LeaderBoardEntry{accountId='0041d08b-edc5-48d9-a223-0c4a28550594', value=727, rank=4}, LeaderBoardEntry{accountId='6f5c77ad-ef1c-4e47-bc33-f1f0c8b4b263', value=710, rank=5}, LeaderBoardEntry{accountId='13b3c774-20da-4101-a213-e1f646b316a9', value=675, rank=6}, LeaderBoardEntry{accountId='e94c3e05-2844-4339-8803-285171550b45', value=671, rank=7}, LeaderBoardEntry{accountId='b94176db-4c25-4f90-99fb-2bd8e8ae0f94', value=615, rank=8}, LeaderBoardEntry{accountId='a9467569-462d-4149-bc43-8550c03a45c9', value=601, rank=9}, LeaderBoardEntry{accountId='160376f1-a670-4c1b-b260-ce7b2bf94549', value=601, rank=10}, LeaderBoardEntry{accountId='cfd16ec5-4126-497c-a574-85c1ee1987dc', value=598, rank=11}, LeaderBoardEntry{accountId='ffbb0eff-7cf0-433f-8cbf-9b5b30d57202', value=558, rank=12}, LeaderBoardEntry{accountId='1da00db9-d5ae-40fa-925f-e48a92bfcd09', value=556, rank=13}, LeaderBoardEntry{accountId='28bad584-d9aa-440b-99ec-488bbd3d4e72', value=530, rank=14}, LeaderBoardEntry{accountId='1169e1f9-9c1a-4cb6-ba77-282c6d84eb74', value=524, rank=15}, LeaderBoardEntry{accountId='f1081995-d117-471d-860e-5eb41275975c', value=517, rank=16}, LeaderBoardEntry{accountId='b5dd0491-ee8e-4e15-b32e-f8e704b47dbe', value=493, rank=17}, LeaderBoardEntry{accountId='bd98e3aa-14d4-4c46-9417-827242e0105c', value=488, rank=18}, LeaderBoardEntry{accountId='501aff48-7767-4bbc-8350-a7b190db2ec3', value=479, rank=19}, LeaderBoardEntry{accountId='5359db25-7029-4c59-b6ec-8f57e816f6a7', value=473, rank=20}, LeaderBoardEntry{accountId='54de145b-5873-4f48-8994-dd008e30f26a', value=469, rank=21}, LeaderBoardEntry{accountId='09bd41d2-a44c-46d4-97c4-ffb6dd368981', value=465, rank=22}, LeaderBoardEntry{accountId='afeca5d0-401f-4640-9095-b81510c265ac', value=460, rank=23}, LeaderBoardEntry{accountId='0aa6c0ae-745b-440d-b246-95085002e053', value=459, rank=24}, LeaderBoardEntry{accountId='2b6d451f-f196-401d-b56c-7f1ba41f63fe', value=459, rank=25}, LeaderBoardEntry{accountId='93cfb726-aebb-4eb0-a5ce-4a0ea42d3498', value=456, rank=26}, LeaderBoardEntry{accountId='d4a43646-306c-4dc5-8f53-49d89c0e9045', value=451, rank=27}, LeaderBoardEntry{accountId='f5b23934-2e7b-490d-86c9-3a5db53abf06', value=442, rank=28}, LeaderBoardEntry{accountId='0247ee0d-eae2-432f-8113-3edaa2ae8e63', value=426, rank=29}, LeaderBoardEntry{accountId='70639c8f-de7d-4a25-a0ad-09ecd5a2b5b6', value=420, rank=30}, LeaderBoardEntry{accountId='ba5be2d1-7b42-4b8e-a681-3bf84648e15f', value=419, rank=31}, LeaderBoardEntry{accountId='a3c6290a-5ece-4142-a313-8d4ea983157a', value=418, rank=32}, LeaderBoardEntry{accountId='c5b44b49-35e8-44b9-b5e4-963f158a35a1', value=407, rank=33}, LeaderBoardEntry{accountId='be5497b1-0d14-4996-86bc-970130fb38cc', value=406, rank=34}, LeaderBoardEntry{accountId='6feb4bd8-85b4-4bf8-a6ce-3b986d35407f', value=405, rank=35}, LeaderBoardEntry{accountId='a0c026eb-67bb-4d47-939e-0330ee2b5560', value=403, rank=36}, LeaderBoardEntry{accountId='1ef002fc-41b7-46e2-afb4-ba3b23e1afad', value=402, rank=37}, LeaderBoardEntry{accountId='2886f616-8fb0-4169-bc66-bdcc8efb827d', value=398, rank=38}, LeaderBoardEntry{accountId='66de7858-19ed-4c83-a994-6b987de773a3', value=395, rank=39}, LeaderBoardEntry{accountId='ca9ee597-ebf7-4a04-8c74-ab7bb6246e59', value=394, rank=40}, LeaderBoardEntry{accountId='6ac8e950-ae23-4de6-800b-70db4767ab55', value=393, rank=41}, LeaderBoardEntry{accountId='1e2c8d81-0ddb-4ea0-8705-e57f5c2a2b8f', value=392, rank=42}, LeaderBoardEntry{accountId='101e5904-64b8-4ad8-a465-2ce83c38de9f', value=389, rank=43}, LeaderBoardEntry{accountId='a943e623-58c5-48d9-b51d-2b068e213e23', value=375, rank=44}, LeaderBoardEntry{accountId='a70fa918-5cbd-49bc-83fb-7bcad313480b', value=373, rank=45}, LeaderBoardEntry{accountId='72bd31b3-e5ac-4f30-8ef0-88c2520c0989', value=372, rank=46}, LeaderBoardEntry{accountId='af0797d2-e962-4390-964e-8825b4d81676', value=371, rank=47}, LeaderBoardEntry{accountId='577e9436-3250-43d9-9f1a-612d16ff7497', value=369, rank=48}, LeaderBoardEntry{accountId='6d2d3306-5930-4669-a9b0-0ff00ed8f82a', value=368, rank=49}, LeaderBoardEntry{accountId='c4be82a3-ff7f-4841-8bc2-a5b6288bf57a', value=365, rank=50}]}`


